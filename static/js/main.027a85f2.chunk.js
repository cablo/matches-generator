(this["webpackJsonpmatches-generator"]=this["webpackJsonpmatches-generator"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),l=a.n(s),c=a(1),i=a(2),o=a(3),u=a(5),m=a(4),h=a(6),p=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"generate",value:function(t){var a=[];if(t>1){var n=Math.ceil(t/2);e._subset(0,n,t,new Array(n),a)}return a}},{key:"_subset",value:function(t,a,n,r,s){if(0!==a)for(var l=t;l<=n-a;l++)r[r.length-a]=l,e._subset(l+1,a-1,n,r,s);else s.push({left:Object(c.a)(r),right:e._getOppositeTeam(r,n)})}},{key:"_getOppositeTeam",value:function(e,t){for(var a=[],n=function(t){void 0===e.find((function(e){return e===t}))&&a.push(t)},r=0;r<t;r++)n(r);return a}}]),e}(),d=["&nbsp;&nbsp;:&nbsp;&nbsp;","0&nbsp;:&nbsp;0","1&nbsp;:&nbsp;0","0&nbsp;:&nbsp;1"],y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return this.props.matchesTableRenderSwitch===e.matchesTableRenderSwitch}},{key:"render",value:function(){var e=this;return this.props.matches.length?r.a.createElement("div",{className:"table-scroll-wrap"},r.a.createElement("table",{className:"table table-bordered table-striped"},r.a.createElement("tbody",null,this.props.matches.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"col-index"},r.a.createElement("span",{className:"cell-index"},e.props.matches.length-a)),t.left.map((function(a){return r.a.createElement("td",{key:a,className:"state-left-"+t.state},e.props.players[a].name)})),r.a.createElement("td",{className:"col-state"},r.a.createElement("button",{disabled:e.props.isEditing,className:"btn btn-primary button-state",onClick:function(t){return e.props.onMatchChange(a)},dangerouslySetInnerHTML:{__html:d[t.state]}})),t.right.map((function(a){return r.a.createElement("td",{key:a,className:"state-right-"+t.state},e.props.players[a].name)})))}))))):null}}]),t}(r.a.Component),b=function(e){return r.a.createElement("div",{className:"form-line"},e.isEditing&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onPlayerAdd()}},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Player Name",value:e.playerName,onChange:function(t){return e.onPlayerNameChange(t.target.value)},ref:function(e){return e&&e.focus()}})),r.a.createElement("button",{disabled:!e.playerName.length,type:"submit",className:"btn btn-primary button-add",onClick:e.onPlayerAdd},"Add")),!e.isEditing&&r.a.createElement("div",null,e.matchesPlayed,"\xa0matches"),r.a.createElement("button",{className:"btn btn-danger button-start-stop",disabled:!e.matchesLength,onClick:e.onStartStop},e.isEditing?"Start!":"Stop!"))},f=function(e){return e.players.length?r.a.createElement("div",{className:"players"},e.players.map((function(t,a){return r.a.createElement("button",{disabled:!e.isEditing,key:a,className:"btn btn-secondary button-player",onClick:function(){return e.onPlayerRemove(a)}},t.name+(e.isEditing?"":" ("+t.wins+")"))}))):null},g=(a(14),a(15),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e)))._sortPlayers=function(e){return Object(c.a)(e).sort((function(e,t){var a=t.wins-e.wins;return 0===a?e.name.localeCompare(t.name):a}))},a._updatePlayers=function(e){var t=p.generate(e.length).map((function(e){return e.state=0,e}));a.setState({players:e,matches:t})},a._clearPlayerWins=function(){var e=Object(c.a)(a.state.players);return e.forEach((function(e){return e.wins=0})),e},a.onPlayerNameChange=function(e){a.setState({playerName:e,matchesTableRenderSwitch:!a.state.matchesTableRenderSwitch})},a.onPlayerAdd=function(){var e=a.state.playerName.trim();e&&a._updatePlayers(a._sortPlayers([].concat(Object(c.a)(a.state.players),[{name:e,wins:0}]))),a.setState({playerName:""})},a.onStartStop=function(){a.setState({editing:!a.state.editing,players:a._clearPlayerWins()})},a.onPlayerRemove=function(e){a.state.editing&&a._updatePlayers(a.state.players.filter((function(t,a){return a!==e})))},a.onMatchChange=function(e){var t=a._clearPlayerWins(),n=Object(c.a)(a.state.matches);n[e].state++,n[e].state>3&&(n[e].state=0);var r=0;n.forEach((function(e){var a=2===e.state?e.left:3===e.state?e.right:null;a&&(a.forEach((function(e){return t[e].wins++})),r++)})),a.setState({players:t,matches:n,matchesPlayed:r})},a.state={editing:!0,playerName:"",players:[],matches:[],matchesPlayed:0,matchesTableRenderSwitch:!1},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{isEditing:this.state.editing,playerName:this.state.playerName,matchesLength:this.state.matches.length,matchesPlayed:this.state.matchesPlayed,onPlayerNameChange:this.onPlayerNameChange,onPlayerAdd:this.onPlayerAdd,onStartStop:function(){return e.onStartStop()}}),r.a.createElement(f,{isEditing:this.state.editing,players:this._sortPlayers(this.state.players),onPlayerRemove:this.onPlayerRemove}),r.a.createElement(y,{isEditing:this.state.editing,matchesTableRenderSwitch:this.state.matchesTableRenderSwitch,matches:this.state.matches,players:this.state.players,onMatchChange:function(t){return e.onMatchChange(t)}}))}}]),t}(r.a.Component));l.a.render(r.a.createElement(g,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.027a85f2.chunk.js.map